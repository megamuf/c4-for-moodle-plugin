define(["./core","./var/rnotwhite"],function(a,b){function c(c){var e=d[c]={};return a.each(c.match(b)||[],function(a,b){e[b]=!0}),e}var d={};return a.Callbacks=function(b){b="string"==typeof b?d[b]||c(b):a.extend({},b);var e,f,g,h,i,j,k=[],l=!b.once&&[],m=function(a){for(e=b.memory&&a,f=!0,j=h||0,h=0,i=k.length,g=!0;k&&i>j;j++)if(k[j].apply(a[0],a[1])===!1&&b.stopOnFalse){e=!1;break}g=!1,k&&(l?l.length&&m(l.shift()):e?k=[]:n.disable())},n={add:function(){if(k){var c=k.length;!function d(c){a.each(c,function(c,e){var f=a.type(e);"function"===f?b.unique&&n.has(e)||k.push(e):e&&e.length&&"string"!==f&&d(e)})}(arguments),g?i=k.length:e&&(h=c,m(e))}return this},remove:function(){return k&&a.each(arguments,function(b,c){for(var d;(d=a.inArray(c,k,d))>-1;)k.splice(d,1),g&&(i>=d&&i--,j>=d&&j--)}),this},has:function(b){return b?a.inArray(b,k)>-1:!(!k||!k.length)},empty:function(){return k=[],i=0,this},disable:function(){return k=l=e=void 0,this},disabled:function(){return!k},lock:function(){return l=void 0,e||n.disable(),this},locked:function(){return!l},fireWith:function(a,b){return!k||f&&!l||(b=b||[],b=[a,b.slice?b.slice():b],g?l.push(b):m(b)),this},fire:function(){return n.fireWith(this,arguments),this},fired:function(){return!!f}};return n},a});